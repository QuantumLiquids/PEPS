# Release v0.0.2
 
**Date**: 2025-12-25  
**Type**: Release  
**Status**: COMPLETED  
**Git range**: `v0.0.1..v0.0.2`  
 
## Highlights
 
- **Unified contractor architecture**: `TensorNetwork2D` is now a data container; contraction workspaces/algorithms live in `BMPSContractor` and `TRGContractor`.
- **Finite-size TRG**: TRG contraction pipeline, terminators (2×2 / 3×3), **PunchHole/impurity-hole trace core workflow**, with tests and documentation.
- **Measurement observable registry**: replace bespoke measurement dumps with a registry-based observable API (`ObservableMeta` + per-key metadata + `psi.csv` summary) and update solvers/tests/docs accordingly.
- **Square-lattice PBC (partial support)**: initial PBC plumbing for TPS/PEPS and TRG; add PBC simple-update test data. **Not all models/solvers are PBC-complete yet.**
- **Single-precision support**: add FP32 pathways where applicable.
- **Math backend plumbing**: backend selection work (including AOCL) and test adjustments.
 
## Breaking Changes (intentional)
 
1. **`TensorNetwork2D` API split**
   - Contraction/workspace methods previously on `TensorNetwork2D` were moved.
   - Callers must use `BMPSContractor` / `TRGContractor`.
 
2. **Monte Carlo PEPS API modernization**
   - Unified parameter structures; removed legacy implicit behaviors and deprecated executor patterns.
   - TPS loading is explicit or via factory helpers.
   - Measurement results are registry-based; downstream analysis should migrate to registry keys/metadata.
   - Data/state conversions are explicit and named (no implicit conversions): use `qlpeps::ToTPS`, `qlpeps::ToSplitIndexTPS`, `qlpeps::SplitPhyIndex` (see `include/qlpeps/api/conversions.h`).
 
3. **Optimizer parameters refactor**
   - Removed legacy optimizer parameter structs; type-safe parameterization via `std::variant` and explicit parameter objects.
 
## Fixes
 
- Fix BMPS growth fallthrough bug and related contraction corner cases.
- Fix exact-summation gradient complex conjugation (use \(E_\mathrm{loc}^\*\) consistently in covariance/accumulators; fixed in 2025-08-20, commit `5eb6a9d`).
- MPI integration test robustness improvements (receive logic cleanup).
 
## Documentation & Tests
 
- Documentation expansion (≈70 files touched under `docs/` since `v0.0.1`):
  - Doxygen config refresh: `docs/Doxyfile`, `docs/Doxyfile.in`.
  - Developer documentation restructured under `docs/dev/`:
    - Index + module entry points: `docs/dev/index.md`, `docs/dev/modules/{optimizer,peps,vmc_update}/README.md`.
    - RFCs (design/contract/testing policies): `docs/dev/rfc/2025-08-21-energy-evaluator-concept.md`, `docs/dev/rfc/2025-09-11-observable-registry-and-results-organization.md`, `docs/dev/rfc/2025-12-21-unified-contractor-contract.md`, etc.
    - Design notes: `docs/dev/design/math/trg-impurity-hole.md`, `docs/dev/design/data-structures/split-index-tps.md`, `docs/dev/design/arch/mpi-contracts.md`.
    - Testing & reproducibility: `docs/dev/testing/{optimizer-testing-strategy.md,reproducibility-policy.md,slow-test-manifest.md}` and run logs under `docs/dev/testing/runs/`.
  - User guides added/expanded (EN/ZH): optimizer/MC API/state conversions/persistence/migration:
    - EN: `docs/user/en/guides/{optimizer_guide.md,monte_carlo_peps_api_guide.md,state_conversions_guide.md,vmc_data_persistence_guide.md,vmcpeps_optimizer_guide.md}`.
    - ZH: `docs/user/zh/guides/{optimizer_guide.md,monte_carlo_peps_api_guide.md,monte_carlo_updater_guide.md,recommended_workflow.md,vmcpeps_optimizer_guide.md}` + tutorials under `docs/user/zh/tutorials/`.
- Tests updated/added to track the new APIs and contractor split:
  - Quick unit tests (run via `ctest --test-dir build`):
    - Contractor split / 2D contraction: `test_bmps_contractor`, `test_trg_contractor`.
    - Registry-based measurement (2×2 fast): `test_mc_peps_measure_{double,complex}`.
    - TRG + MC smoke/regression: `test_mc_updater_trg_smoke_{double,complex}`, `test_mc_ising_trg_pbc_{double,complex}`.
    - API smoke: `test_api_smoke_{double,complex}` (also has MPI runs: `test_api_smoke_{double,complex}_mpi`).
  - Local status (macOS): all quick tests pass **except** `test_tJ_model_solver` is currently skipped.
 
## References (detailed notes)
 
- `changelog/details/2025-12-24-bmps-contractor-refactor.md`
- `changelog/details/2025-10-15-observable-registry.md`
- `changelog/details/2025-08-18-monte-carlo-peps-api-unification.md`
- `changelog/details/2025-08-17-optimizer-params-refactor.md`


